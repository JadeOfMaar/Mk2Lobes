PART
{
	name = mk2l-engvtf
	module = Part
	author = JadeOfMaar
	MODEL
	{
		model = Mk2Lobes/Parts/engvtf
	}
	rescaleFactor = 1
	node_attach = 0, 0, 0, 0, 0, -1
	TechRequired = aerodynamicSystems
	entryCost = 24998
	cost = 24998
	category = Engine
	subcategory = 0
	title = #LOC_mk2l-engvtf-title
	manufacturer = #LOC_mk2l-agent
	description = #LOC_mk2l-engvtf-desc
	tags = #LOC_mk2l-engvtf-tags
	attachRules = 1,1,1,1,0

	mass = 2.9
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	bulkheadProfiles = mk2l,srf
	crashTolerance = 5
	breakingForce = 800
	breakingTorque = 800
	maxTemp = 2000
	skinMaxTemp = 2400
	
	CoMOffset = 0, 0, -0.42
	CoLOffset = 0, 0, -0.42
	CoPOffset = 0, 0, -0.42
	CenterOfBuoyancy = 0, 0, -0.42
	CenterOfDisplacement = 0, 0, -0.42
	
	NODE
	{
		name = bottom01
		transform = b01
		size = 1
		method = FIXED_JOINT
	}
	NODE
	{
		name = top01
		transform = t01
		size = 1
		method = FIXED_JOINT
	}
	NODE
	{
		name = side01
		transform = s01
		size = 1
		method = FIXED_JOINT
	}
	
	MODULE
	{
		name = ModuleEnginesFX
		engineID = Cruise
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 232
		heatProduction = 40
		useEngineResponseTime = True
		engineAccelerationSpeed = 0.12
		engineDecelerationSpeed = 0.5
		flameoutEffectName = flameout
		engageEffectName = engage
		disengageEffectName = disengage
		engineSpoolIdle = 0.05
		engineSpoolTime = 2.0
		EngineType = Turbine
		exhaustDamageMultiplier = 5
		clampPropReceived = True
		atmChangeFlow = True
		useVelCurve = True
		useAtmCurve = True
		flameoutBar = 0.02
		flowMultCap = 1.0
		machLimit = 0.85
		machHeatMult = 25
		powerEffectName = running_open
		spoolEffectName = running_turbine
		PROPELLANT
		{
			name = IntakeAir
			ignoreForIsp = True
			ratio = 127
		}
		PROPELLANT
		{
			name = LiquidFuel
			resourceFlowMode = STAGE_STACK_FLOW_BALANCE
			ratio = 1
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 10500 0 0
		}
		velCurve
		{
			key = 0 1 0 0
			key = 0.53 0.834 0 0
			key = 1.3 0.96 0 0
			key = 1.674 0.843 -0.876726 -0.876726
			key = 2.5 0 0 0
		}
		atmCurve
		{
			key = 0 0 0 1.186726
			key = 0.072 0.092 1.339822 1.339822
			key = 0.337 0.4 0.8976688 0.8976688
			key = 1 1 0.9127604 0
		}
	}
	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = heatColor
		responseSpeed = 0.05
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = FXModuleThrottleEffects
		fxModuleNames = throttleColor
		responseSpeed = 1.0
		dependOnEngineState = True
		dependOnThrottle = True
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = heatColor
		animRate = 0.025
		shaderProperty = _EmissiveColor
		excludedRenderer = ThrEMM
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 0
			key = 1 0.33
		}
		greenCurve
		{
			key = 0 0
			key = 1 0
		}
		blueCurve
		{
			key = 0 0
			key = 1 0
		}
		alphaCurve
		{
			key = 0 1
			key = 1 1
		}
	}
	MODULE
	{
		name = ModuleColorChanger
		moduleID = throttleColor
		animRate = 1
		shaderProperty = _TintColor
		includedRenderer = ThrEMM
		toggleInEditor = false
		toggleInFlight = false
		redCurve
		{
			key = 0 0
			key = 1 1
		}
		greenCurve
		{
			key = 0 0 0 0
			key = 0.5 0 0 0.5
			key = 1 0.25
		}
		blueCurve
		{
			key = 0 0 0 0
			key = 0.5 0 0 1
			key = 1 0.5
		}
		alphaCurve
		{
			key = 0 1
			key = 1 1
		}
	}
	EFFECTS
	{
		running_open
		{			
			AUDIO
			{
				channel = Ship
				clip = sound_jet_deep
				volume = 0.0 0.0
				volume = 0.05 0.4
				volume = 1.0 1.5
				pitch = 0.0 0.3
				pitch = 1.0 0.5
				loop = true
			}
			// PREFAB_PARTICLE
			// {
				// prefabName = fx_smokeTrail_light
				// transformName = thrustTransform
				// emission = 0.0 0.0
				// emission = 0.05 0.0
				// emission = 0.075 0.25
				// emission = 1.0 1.25
				// speed = 0.0 0.25
				// speed = 1.0 1.0
				// localOffset = 0, 0, 1
				// localRotation = 1, 0, 0, -90
			// }
			MODEL_MULTI_PARTICLE
			{
				name = stream
				modelName = Mk2Lobes/FX/Smoke/smokeWhiteMF
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 1.0 1.5
				energy = 0 0.8
				energy = 2 0.2
				speed = 0.2 0.8
				speed = 1.0 3
				speed = 2.0 6
				localPosition = 0, 0, 0.5
			}
		}
		running_turbine
		{
			AUDIO
			{
				channel = Ship
				clip = sound_jet_low
				volume = 0.0 0.0
				volume = 0.05 0.2
				volume = 1.0 0.45
				pitch = 0.0 0.3
				pitch = 0.05 0.5
				pitch = 1.0 0.65
				loop = true
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_medium
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}
	MODULE
	{
		name = ModuleLiftingSurface
		useInternalDragModel = False
		deflectionLiftCoeff = 0.59
		transformDir = X
		dragAtMaxAoA = 0.3
		dragAtMinAoA = 0.1
	}
}